이준혁 작성.

~~ 윈도우 intellij에서 jni 사용법 요약 ~~

jni가 뭔지는 찾아보자.
jni 사용법 https://www.baeldung.com/jni -> 완전 잘나와있으니 참고. 컴파일 명령어는 약간 잘못 나와있어서 아래에 써 놓은대로 하시길..

1. 윈도우 사용자 환경변수에 JAVA_HOME이라는 이름으로 본인이 사용하는 JDK 경로 넣기
2. 정해진 형식에 따라 .java 파일 작성
3. javac로 .java 파일 컴파일 (지금 상태로 실행하면 c 파일이랑 연결이 안되어있어서 런타임 에러 발생함.)
4. javac로 .java에 대한 c 헤더파일 생성
5. 정해진 형식에 따라 c언어 소스코드 작성
6. c 파일 컴파일 -> gcc -c -I"$env:JAVA_HOME\include" -I"$env:JAVA_HOME\include\win32" test.c -o test.o
7. 컴파일한거 링크 -> gcc -shared -o MyJNI.dll test.o 
8-1. 이제 해당 패키지에 .dll 파일만 존재하면, 콘솔에서 java 명령어로 .java 파일을 실행했을 때 c언어로 작성한 코드가 문제없이 실행됨!
8-2. 또는 해당 jdk 라이브러리에 .dll 파일을 넣어줘야 함. 아니면 라이브러리로 인식할 수 있도록 설정해줘야 함.
-> main이 존재하는 위치에 넣어주던가.. jdk의 bin에 넣어주던가..

.dll 파일만 존재하면 다른 c관련 파일들은 지워도 된다.

참고로 함수명 등은 이름을 잘 맞춰줘야 하는 듯. 중간에 이름을 변경하는 경우 정해진 규칙에 따라 식별자를 수정하자.

다만 이 경우 .java 파일을 콘솔에서 java 명령어로 직접 컴파일/실행해야 .dll을 제대로 인식한다.
그리고 RUN 버튼을 눌러서 실행하면 결과가 좀 이상한데.. RUN 버튼으로 실행하는 콘솔이 문제인 것 같다. 콘솔에서 돌리자.



